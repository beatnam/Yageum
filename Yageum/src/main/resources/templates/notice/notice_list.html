<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자동 공지사항 팝업</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Black+Han+Sans&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="../css/notice_list.css" >
  </head>
<body>
    <!-- 팝업 오버레이 -->
    <div class="popup-overlay" id="noticePopup">
        <div class="popup-container">
            <!-- 팝업 헤더 -->
            <div class="popup-header">
                <h2 class="popup-title">📢 공지사항</h2>
                <button class="popup-close" onclick="closePopup()">&times;</button>
            </div>

            <!-- 팝업 본문 -->
            <div class="popup-body">
                <div class="notice-list">
                    <div class="notice-item" onclick="viewNotice(1)">
                        <div class="notice-header">
                            <span class="notice-number">15</span>
                            <span class="notice-date">2025.06.25</span>
                        </div>
                        <div class="notice-title">
                            <span class="notice-badge important">중요</span>
                            시스템 정기점검 안내 (2025.07.01)
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(2)">
                        <div class="notice-header">
                            <span class="notice-number">14</span>
                            <span class="notice-date">2025.06.24</span>
                        </div>
                        <div class="notice-title">
                            <span class="notice-badge new">신규</span>
                            새로운 기능 업데이트 안내
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(3)">
                        <div class="notice-header">
                            <span class="notice-number">13</span>
                            <span class="notice-date">2025.06.23</span>
                        </div>
                        <div class="notice-title">
                            개인정보 처리방침 변경 안내
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(4)">
                        <div class="notice-header">
                            <span class="notice-number">12</span>
                            <span class="notice-date">2025.06.22</span>
                        </div>
                        <div class="notice-title">
                            여름 휴가 기간 고객센터 운영시간 안내
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(5)">
                        <div class="notice-header">
                            <span class="notice-number">11</span>
                            <span class="notice-date">2025.06.21</span>
                        </div>
                        <div class="notice-title">
                            보안 업데이트 완료 안내
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(6)">
                        <div class="notice-header">
                            <span class="notice-number">10</span>
                            <span class="notice-date">2025.06.20</span>
                        </div>
                        <div class="notice-title">
                            <span class="notice-badge">이벤트</span>
                            여름 이벤트 당첨자 발표
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(7)">
                        <div class="notice-header">
                            <span class="notice-number">9</span>
                            <span class="notice-date">2025.06.19</span>
                        </div>
                        <div class="notice-title">
                            서비스 이용약관 개정 안내
                        </div>
                    </div>

                    <div class="notice-item" onclick="viewNotice(8)">
                        <div class="notice-header">
                            <span class="notice-number">8</span>
                            <span class="notice-date">2025.06.18</span>
                        </div>
                        <div class="notice-title">
                            모바일 앱 업데이트 안내
                        </div>
                    </div>
                </div>
            </div>

            <!-- 팝업 하단 -->
            <div class="popup-footer">
                <button class="btn-today-close" onclick="closeTodayPopup()">오늘 하루 보지 않기</button>
                <button class="btn-close" onclick="closePopup()">닫기</button>
            </div>
        </div>
    </div>

    <script>
        // 페이지 로드시 자동으로 팝업 표시
        window.addEventListener('load', function() {
            // 오늘 하루 보지 않기를 선택했는지 확인
            const todayClose = sessionStorage.getItem('noticePopupTodayClose');
            const today = new Date().toDateString();
            
            if (todayClose !== today) {
                showPopup();
            }
        });

        // 팝업 표시
        function showPopup() {
            document.getElementById('noticePopup').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // 팝업 닫기
        function closePopup() {
            document.getElementById('noticePopup').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // 오늘 하루 보지 않기
        function closeTodayPopup() {
            const today = new Date().toDateString();
            sessionStorage.setItem('noticePopupTodayClose', today);
            closePopup();
        }

        // 오버레이 클릭시 팝업 닫기
        document.getElementById('noticePopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closePopup();
            }
        });

        // ESC 키로 팝업 닫기
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePopup();
            }
        });

        // 공지사항 상세보기
        function viewNotice(noticeId) {
            alert('공지사항 ' + noticeId + '번 상세보기로 이동합니다.');
            // 실제로는 상세페이지로 이동하거나 모달을 띄우는 로직
        }
    </script>
</body>
</html>